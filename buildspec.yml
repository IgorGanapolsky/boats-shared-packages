version: 0.2

phases:
  install:
    runtime-versions:
      nodejs: 18
    commands:
      - npm install -g npm@latest
      - npm install
      
  build:
    commands:
      - echo "Building shared packages..."
      - npm run build
      
  post_build:
    commands:
      - echo "Preparing packages for mobile consumption..."
      - npm pack ./boats-core
      - npm pack ./boats-hooks
      
artifacts:
  files:
    - boats-core-*.tgz
    - boats-hooks-*.tgz
    - buildspec.yml
    - package.json
    - README.md
  discard-paths: yes
